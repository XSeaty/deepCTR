Benchmarks
==========

All the network model have been evaluated on a couple of datasets (e.g. `Frappe <http://baltrunas.info/research-menu/frappe>`_, `iPinYou <http://data.computational-advertising.org/>`_, `Criteo <http://labs.criteo.com/2014/02/kaggle-display-advertising-challenge-dataset/>`_). We report logloss and AUC for evaluating model performance. Note that two of the best evaluation scores are marked with \* and **\`Setting\`** indicates (#Pool Size of LinkageEmbedding, #Embedding Dimention, Use BatchNormalization in LinkageEmbedding or not). 

Criteo
----------

For Criteo dataset, we use 3 dense layers and each layer with 256 units in DeepFM; 6 cross layers and 2 dense layers with 1024 units in DCN.


+------------------+-------------+-------------+----------------+------------+------------+
|                                                                                         |
+==================+=============+=============+================+============+============+
|**Embedding Type**| **Model**   |  **Setting**| **#Param(1e6)**| **Logloss**| **AUC**    |
+------------------+-------------+-------------+----------------+------------+------------+
|                  | LR          |    \-       |       1        |   0.4635   |   79.05%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10       |       12       |   0.4558   |   79.96%   |
| Embedding        +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |    10       |       12       |   0.4505   |   80.53%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DCN         |    10       |       12       | **0.4487***| **80.69%***|
+------------------+-------------+-------------+----------------+------------+------------+
|                  | FM          |    3,10     |       4        |   0.4565   |   79.88%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    4,10     |       5        |   0.4551   |   80.02%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    5,10     |       6        |   0.4557   |   79.97%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    6,10     |       8        |   0.4558   |   79.96%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    7,10     |       9        |   0.4546   |   80.08%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    8,10     |       10       |   0.4545   |   80.10%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    9,10     |       11       |   0.4545   |   80.09%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,10    |       12       |   0.4541   |   80.13%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,50    |       12       |   0.4523   |   80.34%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,100   |       12       |   0.4513   |   80.44%   |
|LinkageEmbedding  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,200   |       12       |   0.4508   |   80.49%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,300   |       12       |   0.4508   |   80.50%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,500   |       12       |   0.4500   |   80.57%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,800   |       12       |   0.4505   |   80.51%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,1000  |       12       |   0.4503   |   80.53%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |    10,10    |       12       |   0.4501   |   80.57%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |    10,100   |       13       |   0.4499   |   80.57%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DCN         |    10,10    |       12       | **0.4490***| **80.65%***|
|                  +-------------+-------------+----------------+------------+------------+
|                  | DCN         |    10,10,BN |       12       |   0.4554   |   79.99%   |
+------------------+-------------+-------------+----------------+------------+------------+

iPinYou
----------

For iPinYou dataset, we use 3 dense layers and each layer with 256 units in DeepFM; 4 cross layers and 2 dense layers with 256 units in DCN.


+------------------+-------------+-------------+----------------+------------+------------+
|                                                                                         |
+==================+=============+=============+================+============+============+
|**Embedding Type**| **Model**   |  **Setting**|   **#Param**   | **Logloss**| **AUC**    |
+------------------+-------------+-------------+----------------+------------+------------+
|                  | LR          |    \-       |   0.423        |   0.685    |            |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10       |   0.423        |   0.685    |            |
| Embedding        +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |    10       |   0.423        |   0.685    |            |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DCN         |    10       |   0.423        |   0.685    |            |
+------------------+-------------+-------------+----------------+------------+------------+
|                  | FM          |    5,10     |   0.423        |   0.685    |            |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,10    |   0.423        |   0.685    |            |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,100   |   0.423        |   0.685    |            |
|LinkageEmbedding  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,200   |   0.423        |   0.685    |            |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    10,500   |   0.423        |   0.685    |            |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |    10,10    |   0.423        |   0.685    |            |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |    10,100   |   0.423        |   0.685    |            |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DCN         |    10,10    |   0.423        |   0.685    |            |
+------------------+-------------+-------------+----------------+------------+------------+

Frappe
----------

For iPinYou dataset, we use 3 dense layers and each layer with 256 units in DeepFM; 4 cross layers and 2 dense layers with 256 units in DCN.


+------------------+-------------+-------------+----------------+------------+------------+
|                                                                                         |
+==================+=============+=============+================+============+============+
|**Embedding Type**| **Model**   |  **Setting**|   **#Param**   | **Logloss**| **AUC**    |
+------------------+-------------+-------------+----------------+------------+------------+
|                  | LR          |    \-       |     5,384      |   0.4173   |   87.51%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |    256      |   1,383,176    |   0.2595   |   95.98%   |
| Embedding        +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |    256      |   2,170,632    |   0.2762   |   95.75%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DCN         |    F        |    337,429     |   0.3038   |   94.40%   |
+------------------+-------------+-------------+----------------+------------+------------+
|                  | FM          |min128,256   |    813,260     |   0.2721   |   95.96%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |min128,256,BN|    814,248     |   0.2354   |   96.22%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |min256,256   |   1,575,133    |   0.2468   |   96.42%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |min256,256,BN|   1,576,843    | **0.2240***|   96.43%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |min256,512   |   1,794,013    |   0.2490   |   96.44%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | FM          |min256,512,BN|   1,795,723    | **0.2174***|   96.59%   |
|LinkageEmbedding  +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |min256,256   |   2,362,589    |   0.2410   | **96.77%***|
|                  +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |min256,256,BN|   2,364,829    |   0.2378   |   96.53%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DeepFM      |min256,512   |   3,236,829    |   0.2289   | **96.73%***|
|                  +-------------+-------------+----------------+------------+------------+
|                  | DCN         |minF,F       |    341,741     |   0.2444   |   96.32%   |
|                  +-------------+-------------+----------------+------------+------------+
|                  | DCN         |minF,F,BN    |    342,041     |   0.2520   |   95.80%   |
+------------------+-------------+-------------+----------------+------------+------------+

:minK: :math:`min(#category cardinality, K)`
:F: :math:`6*(#category cardinality)^(1/4)`

